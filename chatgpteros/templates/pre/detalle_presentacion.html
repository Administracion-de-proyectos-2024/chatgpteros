{% extends 'layouts/base-fullscreen.html' %}

{% block content %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalle de la Presentación</title>
    <style>
        .slide {
            display: none;
        }
        .slide.active {
            display: block;
        }
    </style>
</head>
<body>
    <h1>{{ presentacion.nombre }}</h1>
    <p>{{ presentacion.descripcion }}</p>
    
    <!-- Botones de navegación -->
    <button id="anterior">Anterior</button>
    <button id="siguiente">Siguiente</button>

    <!-- Contenedor de diapositivas -->
    <div id="slides">
        {% if diapositivas %}
            {% for diapositiva in diapositivas %}
                <div class="slide">{{ diapositiva.contenido }}</div>
            {% endfor %}
        {% else %}
            <p>No hay diapositivas disponibles.</p>
        {% endif %}
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        var slides = document.querySelectorAll(".slide");
        var totalSlides = slides.length;
        var currentSlide = 0;

        function showSlide(index) {
            for (var i = 0; i < totalSlides; i++) {
                slides[i].classList.remove("active");
            }
            slides[index].classList.add("active");
            currentSlide = index;
        }

        // Show the first slide on page load
        showSlide(currentSlide);

        // Add events to navigation buttons
        document.getElementById('anterior').addEventListener('click', function() {
            currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
            showSlide(currentSlide);
        });

        document.getElementById('siguiente').addEventListener('click', function() {
            currentSlide = (currentSlide + 1) % totalSlides;
            showSlide(currentSlide);
        });

        // Add events for keyboard arrows
        document.addEventListener('keydown', function(event) {
            if (event.key === 'ArrowLeft') {
                currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
                showSlide(currentSlide);
            } else if (event.key === 'ArrowRight') {
                currentSlide = (currentSlide + 1) % totalSlides;
                showSlide(currentSlide);
            }
        });
    });
    </script>
</body>
</html>
{% endblock %}
